{% extends 'base.html' %}
{% load static %}

{% block title %}
{{ home_data.site_name }}
{% endblock %}

{% block content %}

<!-- ================= CAROUSEL ================= -->
<!-- {% if slides %}
<section class="container-fluid px-0">
  <div id="homeCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for slide in slides %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <img src="{{ slide.image.url }}" class="d-block w-100">
        <div class="carousel-caption">
          <h2 class="fw-bold">{{ slide.title }}</h2>
          <p>{{ slide.message|safe }}</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %} -->

{% if slides %}
<section class="container-fluid px-0">
  <div id="homeCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for slide in slides %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        
        <img src="{{ slide.image.url }}" class="d-block w-100 slide-animated-img">

        <div class="carousel-caption">
          <h2 class="fw-bold">{{ slide.title }}</h2>
          <p>{{ slide.message|safe }}</p>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}


<!-- ================= ECOLES ================= -->
<section class="container py-5">
  <div class="text-center mb-5">
    <h2 class="fw-bold">Nos Écoles</h2>
    <p class="text-muted">Découvrez nos établissements et formations</p>
  </div>

  <div class="row g-4">
    {% for ecole in ecoles %}
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <img src="{{ ecole.image.url }}" class="card-img-top">
        <div class="card-body text-center">
          <h5 class="fw-bold">{{ ecole.nom }}</h5>
          <p class="text-muted">{{ ecole.description }}</p>
        </div>
      </div>
    </div>
    {% empty %}
    <div class="alert alert-warning text-center">
      Aucune école disponible pour le moment.
    </div>
    {% endfor %}
  </div>
</section>

<!-- ================= CONTACT + FAQ ================= -->
<section class="container py-5">
  <div class="row align-items-stretch">

    <!-- FAQ -->
    <div class="col-md-5">
      <h3 class="fw-bold mb-3">Foire aux questions (FAQ)</h3>
    
      <div class="accordion" id="faqAccordion">
    
        <!-- Question 1 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
              Comment puis-je m'inscrire en ligne ?
            </button>
          </h2>
          <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Vous pouvez remplir notre formulaire de préinscription en ligne.
            </div>
          </div>
        </div>
    
        <!-- Question 2 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
              Quels documents sont nécessaires ?
            </button>
          </h2>
          <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Pièce d'identité, justificatif de domicile et bulletins récents.
            </div>
          </div>
        </div>
    
        <!-- Question 3 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
              Quel est le coût des formations ?
            </button>
          </h2>
          <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Les tarifs varient selon le programme. Veuillez consulter la page des formations pour plus de détails.
            </div>
          </div>
        </div>
    
        <!-- Question 4 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
              Comment obtenir un certificat ?
            </button>
          </h2>
          <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Après avoir réussi votre évaluation en ligne, vous pourrez télécharger votre certificat.
            </div>
          </div>
        </div>
    
        <!-- Question 5 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
              Puis-je modifier ma préinscription ?
            </button>
          </h2>
          <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Oui, contactez notre support par e-mail ou téléphone pour mettre à jour vos informations.
            </div>
          </div>
        </div>
    
        <!-- Question 6 -->
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
              Les formations sont-elles en ligne ou en présentiel ?
            </button>
          </h2>
          <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              La plupart des formations sont en ligne, certaines sessions pratiques peuvent être en présentiel.
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- FORMULAIRE CONTACT -->
    <div class="col-md-7">
      <div class="card shadow p-4 border-0">
        <h5 class="fw-bold mb-3">Besoin d'informations ? Contactez-nous</h5>
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-success">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
        <form method="POST" action="{% url 'home' %}">
          {% csrf_token %}
          <input type="text" class="form-control mb-3" name="nom" placeholder="Nom" required>
          <input type="text" class="form-control mb-3" name="prenom" placeholder="Prénom" required>
          <input type="email" class="form-control mb-3" name="email" placeholder="E-mail" required>
          <input type="tel" class="form-control mb-3" name="telephone" placeholder="Numéro de téléphone" required pattern="[0-9]{10}" title="Entrez un numéro à 10 chiffres">
          <textarea class="form-control mb-3" name="message" rows="4" placeholder="Votre message..." required></textarea>
          <button type="submit" class="btn btn-primary w-100">Envoyer</button>
        </form>
      </div>
    </div>
  </div>
</section>

{% endblock %}
